<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" type="image/x-icon" href="images/katokits-logo.png">
  <title>KatoKits | AI Lesson Plans & Printables for Preschool Teachers</title>
  <meta name="description" content="Generate custom preschool lesson plans in seconds. Includes printables, materials list, strategies & objectives. Try 3 for free." />
  <meta name="p:domain_verify" content="1c2313345a716871cc8a3641fb0710e0"/>
  <link rel="stylesheet" href="styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
  <script src="js/auth-api.js"></script>
</head>
<body>
<header>
  <div class="header-container">
    <div class="auth-buttons left-auth">
      <a href="#" onclick="showLoginModal()" class="btn btn-outline">Login</a>
    </div>
    <div class="logo">KatoKits</div>
    <nav>
      <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">â˜°</button>
      <div class="nav-links" id="navLinks">
        <a href="index.html" class="active">Home</a>
        <a href="pricing.html">Pricing & Add-ons</a>
        <a href="ai.html">AI Generator</a>
        <a href="library.html">Library</a>
        <a href="about.html">About</a>
        <a href="contact.html">Contact</a>
      </div>
    </nav>
    <div class="auth-buttons right-auth">
      <a href="#" onclick="showSignupModal()" class="btn btn-primary">Sign Up</a>
    </div>
  </div>
</header>

<!-- Hero Section -->
<section class="hero-section">
  <div class="container">
    <div class="hero-container">
      <div class="hero-content">
        <h1>AI-Generated Preschool Lesson Plans in Seconds</h1>
        <p class="hero-subtitle">Designed by educators. Built for parents, daycares, homeschoolers & schools. Try 3 free lesson kits today.</p>
        
        <div class="hero-button-container">
          <a href="ai.html" class="btn btn-primary btn-large">ğŸ Generate 3 Free Lessons</a>
        </div>
        
        <p class="hero-disclaimer">No credit card needed â€¢ Instant download</p>
        
        <div class="hero-stats">
          <span class="stat-item">ğŸ¤– AI-Powered</span>
          <span class="stat-item">ğŸ“„ Printables Included</span>
          <span class="stat-item">ğŸ‘©â€ğŸ« Built by Educators</span>
        </div>
      </div>

      <div class="hero-visual">
        <div class="hero-image-placeholder">
          <div class="preview-cards">
            <div class="preview-card">ğŸ“„ Lesson Plan</div>
            <div class="preview-card">ğŸ¨ Activities</div>
            <div class="preview-card">ğŸ“ Worksheets</div>
          </div>
          <p class="preview-text">Preview of AI lesson kits</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Key Features Section -->
<section class="section">
  <div class="container">
    <div class="clean-text-box section-header">
      <h2>Why Educators Choose KatoKits</h2>
      <p>Professional lesson planning made simple with AI technology</p>
    </div>
    
    <div class="grid">
      <div class="card feature-card">
        <div class="feature-icon">ğŸ¤–</div>
        <h3>AI-Powered Generation</h3>
        <p>Create custom lesson plans in seconds with our advanced AI. Tailored to specific age groups, themes, and learning objectives.</p>
      </div>
      
      <div class="card feature-card">
        <div class="feature-icon">ğŸ“„</div>
        <h3>Complete Printable Kits</h3>
        <p>Every plan includes ready-to-print activities, worksheets, and detailed materials lists. No additional prep work needed.</p>
      </div>
      
      <div class="card feature-card">
        <div class="feature-icon">ğŸ‘©â€ğŸ«</div>
        <h3>Educator-Designed</h3>
        <p>Created by early childhood educators who understand real classroom needs. All content is curriculum-aligned.</p>
      </div>
    </div>
  </div>
</section>

<!-- Free Starter Kit Section -->
<section class="section">
  <div class="container">
    <div class="clean-text-box freebie-card">
      <div class="freebie-content">
        <div class="freebie-icon">ğŸ</div>
        <h2>Get Your Free Starter Kit</h2>
        <p>Download our "Colors & Shapes Discovery Kit" instantly - perfect for ages 2-4. Includes activities, printables, and materials list.</p>
        
        <form class="freebie-form" id="freebie-form">
          <input type="email" name="email" placeholder="Enter your email for instant access" required>
          <button type="submit" class="btn btn-primary">Download Free Kit</button>
        </form>
        
        <div class="freebie-benefits">
          <span>âœ… No spam</span>
          <span>âœ… Instant download</span>
          <span>âœ… Cancel anytime</span>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Testimonials Section -->
<section class="section">
  <div class="container">
    <div class="clean-text-box section-header">
      <h2>Trusted by Thousands of Educators</h2>
      <p>See how KatoKits is transforming lesson planning for teachers worldwide</p>
    </div>
    
    <div class="grid">
      <div class="card testimonial-card">
        <div class="quote-mark">"</div>
        <p>KatoKits saved me 10+ hours every week. The AI generates exactly what I need for my preschoolers, and the printables are classroom-ready!</p>
        <div class="testimonial-author">
          <strong>Sarah Martinez</strong>
          <span>Preschool Teacher, Little Minds Academy</span>
        </div>
      </div>
      
      <div class="card testimonial-card">
        <div class="quote-mark">"</div>
        <p>I upgraded after one use! The quality and customization options are incredible. My lesson planning stress is completely gone.</p>
        <div class="testimonial-author">
          <strong>Jennifer Thompson</strong>
          <span>Homeschool Mom & Former Teacher</span>
        </div>
      </div>
      
      <div class="card testimonial-card">
        <div class="quote-mark">"</div>
        <p>Our entire daycare center uses KatoKits now. The activities keep kids engaged and align perfectly with our curriculum standards.</p>
        <div class="testimonial-author">
          <strong>David Rodriguez</strong>
          <span>Daycare Director, Bright Futures Learning</span>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Email CTA Section -->
<section class="email-cta-section">
  <div class="email-cta-container">
    <div class="email-cta-content">
      <h2>Start Creating Amazing Lesson Plans Today</h2>
      <p>Join over 10,000 educators who trust KatoKits for professional, engaging activities. Get instant access to our premium content and AI-powered lesson planning tools.</p>
      
      <form class="email-cta-form" id="email-cta-form">
        <input type="email" name="email" placeholder="Enter your email address" required class="email-cta-input">
        <button type="submit" class="email-cta-button">Get Started Free</button>
      </form>
      
      <div class="email-cta-benefits">
        <span>âœ… 3 Free AI Lesson Plans</span>
        <span>âœ… No Credit Card Required</span>
        <span>âœ… Instant Access</span>
      </div>
    </div>
  </div>
</section>

<!-- Pricing Preview Section -->
<section class="section pricing-preview">
  <div class="container">
    <div class="clean-text-box section-header">
      <h2>Choose Your Perfect Plan</h2>
      <p>Start free and upgrade as your needs grow</p>
    </div>
    
    <div class="pricing-grid">
      <div class="card pricing-card">
        <div class="plan-header">
          <h3 class="plan-name">Library Access</h3>
          <div class="plan-price">$9.99<span>/month</span></div>
        </div>
        <ul class="plan-features">
          <li>âœ… 5 AI lesson plans/month</li>
          <li>âœ… Full library access</li>
          <li>âœ… All printables</li>
          <li>âœ… Download unlimited</li>
        </ul>
        <a href="pricing.html" class="btn btn-outline btn-full">Choose Library</a>
      </div>

      <div class="card pricing-card">
        <div class="plan-header">
          <h3 class="plan-name">Basic</h3>
          <div class="plan-price">$12.99<span>/month</span></div>
        </div>
        <ul class="plan-features">
          <li>âœ… 25 AI lesson plans/month</li>
          <li>âœ… Full library access</li>
          <li>âœ… All printables</li>
          <li>âœ… Save favorites</li>
        </ul>
        <a href="pricing.html" class="btn btn-outline btn-full">Choose Basic</a>
      </div>

      <div class="card pricing-card featured">
        <div class="plan-badge">Most Popular</div>
        <div class="plan-header">
          <h3 class="plan-name">Premium</h3>
          <div class="plan-price">$21.99<span>/month</span></div>
        </div>
        <ul class="plan-features">
          <li>âœ… Unlimited AI lesson plans</li>
          <li>âœ… Cloud storage & editing</li>
          <li>âœ… Full library access</li>
          <li>âœ… Priority support</li>
        </ul>
        <a href="pricing.html" class="btn btn-primary btn-full">Choose Premium</a>
      </div>
    </div>
  </div>
</section>

<!-- Final CTA Section -->
<section class="section cta-section">
  <div class="container">
    <div class="clean-text-box cta-card">
      <h2>Ready to Transform Your Teaching?</h2>
      <p>Join thousands of educators who are saving time and creating better learning experiences with KatoKits. Generate your first AI lesson plan in under 60 seconds.</p>
      
      <div class="cta-buttons">
        <a href="ai.html" class="btn btn-primary btn-large">Try Free AI Generator</a>
        <a href="library.html" class="btn btn-secondary btn-large">Browse Library</a>
      </div>
      
      <div class="trust-indicators">
        <span class="trust-item">âœ… No Credit Card Required</span>
        <span class="trust-item">âœ… 3 Free AI Plans</span>
        <span class="trust-item">âœ… Cancel Anytime</span>
      </div>
    </div>
  </div>
</section>

<div id="ai-free-modal" class="modal ai-modal">
  <div class="modal-content">
    <button id="close-ai-modal" class="modal-close">&times;</button>
    <h2>ğŸ Get 3 FREE Premium Activity Kits Worth $25!</h2>
    <p>Transform learning time into <b>pure magic</b> - your kids will <b>beg for more activities</b> instead of screen time!</p>
    <form id="ai-free-form" class="modal-form">
      <input type="email" name="email" placeholder="Enter your email for instant access" required>
      <button type="submit" class="btn">Send Me My FREE Activity Kits!</button>
    </form>
    <small class="modal-disclaimer">âœ… No spam â€¢ âœ… Instant download â€¢ âœ… Cancel anytime</small>
  </div>
</div>

<!-- Login Modal -->
<div id="login-modal" class="modal">
  <div class="modal-content">
    <button id="close-login-modal" class="modal-close">&times;</button>
    <h2>Welcome Back!</h2>
    <p>Sign in to access your activities</p>
    
    <form id="login-form" class="modal-form">
      <input type="email" name="email" placeholder="Your email address" required>
      <input type="password" name="password" placeholder="Password" required>
      <button type="submit" class="btn">Sign In</button>
    </form>
    
    <div id="auth-status" class="auth-status"></div>
    
    <p class="modal-link">
      Don't have an account? <a href="#" onclick="switchToSignup()">Sign up here</a>
    </p>
  </div>
</div>

<!-- Signup Modal -->
<div id="signup-modal" class="modal">
  <div class="modal-content">
    <button id="close-signup-modal" class="modal-close">&times;</button>
    <h2>ğŸ¨ Join KatoKits</h2>
    <p>Start creating amazing educational activities for your kids!</p>
    
    <form id="signup-form" class="modal-form">
      <input type="email" name="email" placeholder="Enter your email address" required>
      <input type="password" name="password" placeholder="Create a password" required>
      <button type="submit" class="btn">Get Started Now!</button>
    </form>
    
    <div id="auth-status" class="auth-status"></div>
    
    <p class="modal-link">
      Already have an account? <a href="#" onclick="switchToLogin()">Sign in here</a>
    </p>
    
    <small class="modal-disclaimer">âœ… Free to start â€¢ âœ… Cancel anytime â€¢ âœ… Instant access</small>
  </div>
</div>

<footer>
  <div class="footer-content">
    <div class="footer-main">
      <div class="footer-brand">
        <div class="footer-logo">KatoKits</div>
        <p>Professional preschool activities and AI-powered lesson plans for educators and parents.</p>
      </div>
      <div class="footer-links">
        <div class="footer-column">
          <h4>Products</h4>
          <a href="ai.html">AI Generator</a>
          <a href="library.html">Library</a>
          <a href="pricing.html">Pricing & Add-ons</a>
        </div>
        <div class="footer-column">
          <h4>Support</h4>
          <a href="contact.html">Contact Us</a>
          <a href="about.html">About</a>
          <p class="footer-hours">ğŸ“ Monday-Friday<br>9 AM - 5 PM EST</p>
        </div>
        <div class="footer-column">
          <h4>Connect</h4>
          <a href="https://www.instagram.com/katokitsdigital/" target="_blank">ğŸ“± Instagram</a>
          <p class="footer-badges">ğŸ“ ECE Standards Aligned<br>ğŸ‘©â€ğŸ« Educator Owned</p>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>Â© 2025 KatoKits. All rights reserved.</p>
    </div>
  </div>
</footer>


<script>
// --- Mobile Menu Toggle ---
function toggleMobileMenu() {
  const navLinks = document.getElementById('navLinks');
  navLinks.classList.toggle('mobile-open');
}

// --- Authentication Functions ---
function showLoginModal() {
  document.getElementById('login-modal').style.display = 'flex';
  clearAuthStatus();
}

function hideLoginModal() {
  document.getElementById('login-modal').style.display = 'none';
  clearAuthStatus();
}

function showSignupModal() {
  document.getElementById('signup-modal').style.display = 'flex';
  clearAuthStatus();
}

function hideSignupModal() {
  document.getElementById('signup-modal').style.display = 'none';
  clearAuthStatus();
}

function switchToSignup() {
  hideLoginModal();
  showSignupModal();
}

function switchToLogin() {
  hideSignupModal();
  showLoginModal();
}

function clearAuthStatus() {
  const statusDivs = document.querySelectorAll('.auth-status');
  statusDivs.forEach(div => {
    div.innerHTML = '';
    div.className = 'auth-status';
  });
}

function showAuthStatus(message, isError = false) {
  const statusDivs = document.querySelectorAll('.auth-status');
  statusDivs.forEach(div => {
    div.innerHTML = message;
    div.className = isError ? 'auth-status error' : 'auth-status success';
  });
}

// --- Updated Authentication Handlers ---
async function handleLogin(event) {
  event.preventDefault();
  const form = event.target;
  const email = form.email.value;
  const password = form.password.value;
  const submitButton = form.querySelector('button[type="submit"]');

  try {
    submitButton.disabled = true;
    submitButton.textContent = 'Signing in...';
    showAuthStatus('Signing you in...', false);

    await katoAPI.login(email, password);
    
    showAuthStatus('Login successful! Redirecting...', false);
    setTimeout(() => {
      hideLoginModal();
      katoAPI.updateAuthButtons();
      window.location.reload();
    }, 1000);
  } catch (error) {
    showAuthStatus(`Login failed: ${error.message}`, true);
  } finally {
    submitButton.disabled = false;
    submitButton.textContent = 'Sign In';
  }
}

async function handleSignup(event) {
  event.preventDefault();
  const form = event.target;
  const email = form.email.value;
  const password = form.password.value;
  const submitButton = form.querySelector('button[type="submit"]');

  try {
    submitButton.disabled = true;
    submitButton.textContent = 'Creating account...';
    showAuthStatus('Creating your account...', false);

    await katoAPI.signup(email, password);
    
    showAuthStatus('Account created successfully! You now have 3 free AI generations.', false);
    setTimeout(() => {
      hideSignupModal();
      katoAPI.updateAuthButtons();
      window.location.reload();
    }, 2000);
  } catch (error) {
    showAuthStatus(`Signup failed: ${error.message}`, true);
  } finally {
    submitButton.disabled = false;
    submitButton.textContent = 'Get Started Now!';
  }
}

// --- Email Capture Functions ---
async function handleEmailCapture(event) {
  event.preventDefault();
  const form = event.target;
  const email = form.email.value;
  const submitButton = form.querySelector('button[type="submit"]');

  try {
    submitButton.disabled = true;
    submitButton.textContent = 'Processing...';

    const result = await katoAPI.captureEmail(email);
    
    alert(`Welcome to KatoKits! You now have ${result.free_trial_uses} free AI lesson plan generations. Visit the AI Generator to start creating!`);
    form.reset();
  } catch (error) {
    alert(`Failed to capture email: ${error.message}`);
  } finally {
    submitButton.disabled = false;
    submitButton.textContent = form.dataset.originalText || 'Get Started';
  }
}

// --- AI Free Modal Logic ---
function showAIModal() {
  if (!katoAPI.isAuthenticated()) {
    document.getElementById('ai-free-modal').style.display = 'flex';
  }
}

function hideAIModal() {
  document.getElementById('ai-free-modal').style.display = 'none';
}

async function hasUsedAIFreeTrial() {
  if (katoAPI.isAuthenticated()) {
    try {
      const usage = await katoAPI.getAIUsage();
      return usage.free_trial_uses <= 0 && usage.subscription_plan === 'free';
    } catch (error) {
      return false;
    }
  }
  // For non-authenticated users, always show the modal
  return false;
}

// --- Reviews Toggle Function ---
function toggleReviews() {
  const reviewsContent = document.getElementById('moreReviews');
  const toggleButton = document.querySelector('.reviews-toggle');
  
  if (reviewsContent.style.display === 'none') {
    reviewsContent.style.display = 'block';
    toggleButton.innerHTML = 'ğŸ“– Show Less Reviews â–²';
  } else {
    reviewsContent.style.display = 'none';
    toggleButton.innerHTML = 'ğŸ“– Read More Reviews â–¼';
  }
}

document.addEventListener('DOMContentLoaded', async function() {
  // Update auth buttons on page load
  katoAPI.updateAuthButtons();
  
  // AI Modal Logic - only show for non-authenticated users
  if (!katoAPI.isAuthenticated()) {
    const shouldShowModal = !(await hasUsedAIFreeTrial());
    if (shouldShowModal) {
      setTimeout(showAIModal, 1200);
    }
  }
  
  // Close button events
  document.getElementById('close-ai-modal').onclick = hideAIModal;
  document.getElementById('close-login-modal').onclick = hideLoginModal;
  document.getElementById('close-signup-modal').onclick = hideSignupModal;
  
  // Form submissions
  document.getElementById('login-form').onsubmit = handleLogin;
  document.getElementById('signup-form').onsubmit = handleSignup;
  
  document.getElementById('ai-free-form').onsubmit = async function(e) {
    e.preventDefault();
    const email = this.email.value;
    
    try {
      await katoAPI.captureEmail(email);
      hideAIModal();
      alert('You now have 3 free AI uses! Visit the AI Generator page.');
    } catch (error) {
      alert(`Failed to process request: ${error.message}`);
    }
  };
  
  // Freebie form submission
  const freebieForm = document.getElementById('freebie-form');
  if (freebieForm) {
    freebieForm.onsubmit = async function(e) {
      e.preventDefault();
      const email = this.email.value;
      
      try {
        await katoAPI.captureEmail(email);
        alert('Thank you! Check your email for the free Colors & Shapes Discovery Kit!');
      } catch (error) {
        alert(`Failed to process request: ${error.message}`);
      }
    };
  }
  
  // Email CTA form submission
  const emailCtaForm = document.getElementById('email-cta-form');
  if (emailCtaForm) {
    emailCtaForm.onsubmit = handleEmailCapture;
    // Store original button text
    const button = emailCtaForm.querySelector('button[type="submit"]');
    if (button) {
      emailCtaForm.dataset.originalText = button.textContent;
    }
  }
  
  // Mobile menu toggle
  function toggleMobileMenu() {
    const navLinks = document.getElementById('navLinks');
    navLinks.classList.toggle('mobile-open');
  }
  
  // Assign toggle function to button
  const mobileToggle = document.querySelector('.mobile-menu-toggle');
  if (mobileToggle) {
    mobileToggle.onclick = toggleMobileMenu;
  }
});
</script>

<style>
.auth-status {
  margin: 10px 0;
  padding: 10px;
  border-radius: 5px;
  text-align: center;
  font-size: 14px;
}

.auth-status.success {
  background-color: #d4edda;
  color: #155724;
  border: 1px solid #c3e6cb;
}

.auth-status.error {
  background-color: #f8d7da;
  color: #721c24;
  border: 1px solid #f5c6cb;
}

.user-email {
  color: var(--green);
  font-size: 0.9rem;
  margin-right: 1rem;
}
</style>
</body>
</html>
